From 9d6a8d295dff72f875d2f979b6054095c30e47ca Mon Sep 17 00:00:00 2001
From: rmp22 <195054967+rmp22@users.noreply.github.com>
Date: Wed, 26 Mar 2025 14:43:01 +0800
Subject: [PATCH] add option to disable data disabled indicator

Change-Id: Ia6c5f467c8c417fd46ff1781a853b86bddd9869b
Signed-off-by: rmp22 <195054967+rmp22@users.noreply.github.com>
---
 res/values/strings.xml          | 4 ++++
 res/xml/status_bar_settings.xml | 6 ++++++
 2 files changed, 10 insertions(+)

diff --git a/res/values/strings.xml b/res/values/strings.xml
index d7fa869..bc897b1 100644
--- a/res/values/strings.xml
+++ b/res/values/strings.xml
@@ -682,4 +682,8 @@
     <string name="sms_security_check_limit_summary">Apps can send %s messages in 1 minute before requiring confirmation</string>
     <string name="sms_security_check_limit_summary_none">Apps are not allowed to send any messages without confirmation</string>
     <string name="sms_security_check_limit_always_confirm">Always confirm</string>
+     
+    <!-- Data disabled indicator -->
+    <string name="data_disabled_icon_title">Data disabled indicator</string>
+    <string name="data_disabled_icon_summary">Display an indicator next to signal icon when data is disabled</string>
 </resources>
diff --git a/res/xml/status_bar_settings.xml b/res/xml/status_bar_settings.xml
index 50933ea..aab7471 100644
--- a/res/xml/status_bar_settings.xml
+++ b/res/xml/status_bar_settings.xml
@@ -26,6 +26,12 @@
     <PreferenceCategory
         android:title="@string/status_bar_icons_title">
 
+        <lineageos.preference.SystemSettingSwitchPreference
+            android:key="data_disabled_icon"
+            android:title="@string/data_disabled_icon_title"
+            android:summary="@string/data_disabled_icon_summary"
+            android:defaultValue="true"/>
+
         <Preference
             android:key="status_bar_icons"
             android:title="@string/status_bar_system_icons_title"
-- 
2.47.1.windows.1

