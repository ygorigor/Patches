From 8bd6fb7ad23b771468f8c14481f7ec8849575092 Mon Sep 17 00:00:00 2001
From: Pranav Vashi <neobuddy89@gmail.com>
Date: Sat, 3 Sep 2022 07:43:20 +0530
Subject: [PATCH] arm_device: Change cortex-a76 mcpu from a55 to a75

* Similar to what done on arm64_device

Signed-off-by: Pranav Vashi <neobuddy89@gmail.com>
---
 cc/config/arm_device.go | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

diff --git a/cc/config/arm_device.go b/cc/config/arm_device.go
index 3cb190966..868dae8fc 100644
--- a/cc/config/arm_device.go
+++ b/cc/config/arm_device.go
@@ -138,7 +138,7 @@ var (
 			"-D__ARM_FEATURE_LPAE=1",
 		},
 		"cortex-a76": []string{
-			"-mcpu=cortex-a55",
+			"-mcpu=cortex-a75",
 			"-mfpu=neon-fp-armv8",
 			// Fake an ARM compiler flag as these processors support LPAE which clang
 			// don't advertise.
@@ -214,6 +214,7 @@ func init() {
 	pctx.StaticVariable("ArmCortexA32Cflags", strings.Join(armCpuVariantCflags["cortex-a32"], " "))
 	pctx.StaticVariable("ArmCortexA53Cflags", strings.Join(armCpuVariantCflags["cortex-a53"], " "))
 	pctx.StaticVariable("ArmCortexA55Cflags", strings.Join(armCpuVariantCflags["cortex-a55"], " "))
+	pctx.StaticVariable("ArmCortexA76Cflags", strings.Join(armCpuVariantCflags["cortex-a76"], " "))
 	pctx.StaticVariable("ArmKraitCflags", strings.Join(armCpuVariantCflags["krait"], " "))
 	pctx.StaticVariable("ArmKryoCflags", strings.Join(armCpuVariantCflags["kryo"], " "))
 }
@@ -239,7 +240,7 @@ var (
 		"cortex-a72":     "${config.ArmCortexA53Cflags}",
 		"cortex-a73":     "${config.ArmCortexA53Cflags}",
 		"cortex-a75":     "${config.ArmCortexA55Cflags}",
-		"cortex-a76":     "${config.ArmCortexA55Cflags}",
+		"cortex-a76":     "${config.ArmCortexA76Cflags}",
 		"krait":          "${config.ArmKraitCflags}",
 		"kryo":           "${config.ArmKryoCflags}",
 		"kryo385":        "${config.ArmCortexA53Cflags}",
-- 
2.47.1.windows.1

