From 0f9e712258a86785aa3be5ff289d933253eb0735 Mon Sep 17 00:00:00 2001
From: someone5678 <59456192+someone5678@users.noreply.github.com>
Date: Sun, 5 Jan 2025 14:20:59 +0900
Subject: [PATCH] Settings: Use List Preference for Dock speaker plays and
 Emergency tone

Change-Id: Ia899f2ba6d4663c2315ee35c093ca14cb26ae450
Signed-off-by: Pranav Vashi <neobuddy89@gmail.com>
---
 res/xml/sound_settings.xml                             | 4 ++--
 src/com/android/settings/notification/SettingPref.java | 8 ++++----
 2 files changed, 6 insertions(+), 6 deletions(-)

diff --git a/res/xml/sound_settings.xml b/res/xml/sound_settings.xml
index 7b3deccef3d..7092681b9ef 100644
--- a/res/xml/sound_settings.xml
+++ b/res/xml/sound_settings.xml
@@ -212,7 +212,7 @@
         android:order="-27"/>
 
     <!-- Dock speaker plays -->
-    <DropDownPreference
+    <ListPreference
         android:key="dock_audio_media"
         android:title="@string/dock_audio_media_title"
         android:summary="%s"
@@ -225,7 +225,7 @@
         android:order="-15"/>
 
     <!-- Emergency tone -->
-    <DropDownPreference
+    <ListPreference
         android:key="emergency_tone"
         android:title="@string/emergency_tone_title"
         android:summary="%s"
diff --git a/src/com/android/settings/notification/SettingPref.java b/src/com/android/settings/notification/SettingPref.java
index 9a374552732..89bbd30af66 100644
--- a/src/com/android/settings/notification/SettingPref.java
+++ b/src/com/android/settings/notification/SettingPref.java
@@ -24,7 +24,7 @@ import android.provider.Settings.Global;
 import android.provider.Settings.Secure;
 import android.provider.Settings.System;
 
-import androidx.preference.DropDownPreference;
+import androidx.preference.ListPreference;
 import androidx.preference.Preference;
 import androidx.preference.Preference.OnPreferenceChangeListener;
 import androidx.preference.TwoStatePreference;
@@ -45,7 +45,7 @@ public class SettingPref {
     private final Uri mUri;
 
     protected TwoStatePreference mTwoState;
-    protected DropDownPreference mDropDown;
+    protected ListPreference mDropDown;
 
     public SettingPref(int type, String key, String setting, int def, int... values) {
         mType = type;
@@ -73,8 +73,8 @@ public class SettingPref {
         }
         if (p instanceof TwoStatePreference) {
             mTwoState = (TwoStatePreference) p;
-        } else if (p instanceof DropDownPreference) {
-            mDropDown = (DropDownPreference) p;
+        } else if (p instanceof ListPreference) {
+            mDropDown = (ListPreference) p;
             CharSequence[] entries = new CharSequence[mValues.length];
             CharSequence[] values = new CharSequence[mValues.length];
             for (int i = 0; i < mValues.length; i++) {
-- 
2.47.1.windows.1

